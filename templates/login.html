<!DOCTYPE html>
<html lang="pt-BR">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="{{ url_for('static', filename='vendor/bootstrap/css/bootstrap.min.css') }}">
		<link href="{{ url_for('static', filename='vendor/fonts/circular-std/style.css') }}" rel="stylesheet">
		<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
		<link rel="stylesheet" href="{{ url_for('static', filename='vendor/fonts/fontawesome/css/fontawesome-all.css') }}">
		<!-- jquery 3.3.1 -->
		<script src="{{ url_for('static', filename='vendor/jquery/jquery-3.3.1.min.js') }}" type="text/javascript"></script>
		<title>Login - Wolve Trader</title>
		<style>
			body{
				user-select: none
			}

			::-webkit-scrollbar{
				width: 6px !important;
				height: 6px !important;
			}

			::-webkit-scrollbar-thumb{
				background-color: rgb(222 6 6 / 99%)
			}

			::-webkit-scrollbar-track{
				background: hsla(0,0%,100%,.1)
			}

		</style>
		
		<script>

			function validForm(e){
				console.log(e);
				let is_email_valid = false;
				let is_pass_valid = false;
				
				if($("#email").val().length <= 0)
				{
					$("#email").addClass("is-invalid");
					$("#av1").text("você deve digitar seu email.");
					$("#av1").show("slow");
					
				}
				else if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,5})+$/.test($("#email").val()))
				{
					
					$("#email").addClass("is-invalid");
					$("#av1").text("formato de email invalido.");
					$("#av1").show("slow");
					
				}
				else
				{
					
					$("#email").removeClass("is-invalid");
					$("#av1").hide("slow");
					is_email_valid = true;
					
				}
				
				
				if($("#pass").val().length <= 0)
				{
					$("#pass").addClass("is-invalid");
					$("#av2").text("você deve digitar sua senha.");
					$("#av2").show("slow");
				}
				else
				{
					
					$("#pass").removeClass("is-invalid");
					$("#av2").hide("slow");
					is_pass_valid = true;
					
				}
				
				if(is_email_valid && is_pass_valid){
					$("#frm").submit();
				}
				
				
			}
		</script>
	</head>

	<body style="background-image: url('{{ url_for('static', filename='images/bg.jpg') }}');
    background-size: cover; background-repeat: no-repeat;">
		<div class="container">
			<div class="card  col-sm-12 col-lg-5 col-md-8" style="display: block; margin-left: auto; margin-right: auto; margin-top: 10%; margin-bottom: 10%">
				<div class="card-header text-center">
					<img src="{{ url_for('static', filename='images/logo-1222.png') }}" style="max-width: 100%; width: 200px; padding: 10px">
					
				</div>
				<div class="card-body" style="padding: 30px">
					{% if error %}
					<div class="alert alert-dismissible text-white bg-danger" id='modalAlert' role="alert">
						<strong>Oops!</strong> <p>{{error}}</p>
						<a href="#" class="close" data-dismiss="alert" aria-label="Close">
							<span aria-hidden="true">×</span>
						</a>
					</div>
					{% endif %}
					
					<form action="/login/" method="POST" id="frm">
						<input type="text" name="email" id="email" placeholder="Email" class="form-control" autocomplete="off" style="margin-bottom: 10px" >
						<p style="display: none" id="av1" class="invalid-feedback"></p>
						<input type="password" name="pwd" id="pass" placeholder="Senha" class="form-control" >
						<p style="display: none" id="av2" class="invalid-feedback"></p>
						
					</form>
				</div>
				
				<div class="card-footer" style="background-color: #ffffff">

					<div class="">
						<button id="btn_login" style="width: 100%; margin-top: 13px; margin-bottom: 13px;" onclick="validForm()" class="btn btn-danger text-white">Entrar</button>
					</div>
				</div>
					
			</div>
		</div>
		
		
		<script src="{{ url_for('static', filename='vendor/bootstrap/js/bootstrap.bundle.js') }}"></script>
		
	</body>
</html>